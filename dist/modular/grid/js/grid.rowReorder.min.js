"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.rowReorder={config:{base:{rowReorder:!1,rowReorderColumn:void 0,orderNumberField:void 0,style:{targetRowIndicatorTop:"gj-grid-row-reorder-indicator-top",targetRowIndicatorBottom:"gj-grid-row-reorder-indicator-bottom"}}},"private":{init:function(a){var b,c,d,e=a.find('tbody tr[data-role="row"]');for(a.data("rowReorderColumn")&&(c=gj.grid.methods.getColumnPosition(a.data("columns"),a.data("rowReorderColumn"))),b=0;b<e.length;b++)d=$(e[b]),"undefined"!=typeof c?d.find("td:eq("+c+")").on("mousedown",gj.grid.plugins.rowReorder["private"].createRowMouseDownHandler(a,d)):d.on("mousedown",gj.grid.plugins.rowReorder["private"].createRowMouseDownHandler(a,d))},createRowMouseDownHandler:function(a,b){return function(c){var d=a.clone();$("body").append(d),d.attr("data-role","draggable-clone").css("cursor","move"),d.children("thead").remove().children("tfoot").remove(),d.find('tbody tr:not([data-position="'+b.data("position")+'"])').remove(),d.draggable({stop:gj.grid.plugins.rowReorder["private"].createDragStopHandler(a,b)}),d.css({position:"absolute",top:b.offset().top,left:b.offset().left,width:b.width()}),"droppable"===b.attr("data-type")&&b.droppable("destroy"),b.siblings('tr[data-role="row"]').each(function(){var a=$(this);"droppable"===a.attr("data-type")&&a.droppable("destroy"),a.droppable({over:gj.grid.plugins.rowReorder["private"].createDroppableOverHandler(b),out:gj.grid.plugins.rowReorder["private"].droppableOut})}),d.trigger("mousedown")}},createDragStopHandler:function(a,b){return function(c,d){$('table[data-role="draggable-clone"]').draggable("destroy").remove(),b.siblings('tr[data-role="row"]').each(function(){var c,e,f,g,h,i=$(this),j=i.data("position"),k=b.data("position"),l=a.data();if(i.droppable("isOver",d)){for(k>j?i.before(b):i.after(b),l.records.splice(j-1,0,l.records.splice(k-1,1)[0]),c=i.parent().find('tr[data-role="row"]'),f=0;f<c.length;f++)$(c[f]).attr("data-position",f+1);if(l.orderNumberField){for(f=0;f<l.records.length;f++)l.records[f][l.orderNumberField]=f+1;for(f=0;f<c.length;f++)e=$(c[f]),h=gj.grid.methods.getId(e,l.primaryKey,e.attr("data-position")),g=gj.grid.methods.getByPosition(a,e.attr("data-position")),a.setCellContent(h,l.orderNumberField,g[l.orderNumberField])}}i.removeClass("gj-grid-base-top-border"),i.removeClass("gj-grid-base-bottom-border"),i.droppable("destroy")})}},createDroppableOverHandler:function(a){return function(b){var c=$(this),d=c.data("position"),e=a.data("position");e>d?c.addClass("gj-grid-base-top-border"):c.addClass("gj-grid-base-bottom-border")}},droppableOut:function(){$(this).removeClass("gj-grid-base-top-border"),$(this).removeClass("gj-grid-base-bottom-border")}},"public":{},configure:function(a){$.extend(!0,a,gj.grid.plugins.rowReorder["public"]),a.data("rowReorder")&&a.on("dataBound",function(){gj.grid.plugins.rowReorder["private"].init(a)})}};