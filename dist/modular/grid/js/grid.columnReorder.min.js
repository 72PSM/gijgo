"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.columnReorder={config:{base:{columnReorder:!1,style:{targetRowIndicatorTop:"gj-grid-row-reorder-indicator-top",targetRowIndicatorBottom:"gj-grid-row-reorder-indicator-bottom"}}},"private":{init:function(a){var b,c,d=a.find("thead tr th");for(b=0;b<d.length;b++)c=$(d[b]),c.on("mousedown",gj.grid.plugins.columnReorder["private"].createMouseDownHandler(a,c))},createMouseDownHandler:function(a,b){return function(c){var d=a.clone(),e=b.index();$("body").append(d),d.attr("data-role","draggable-clone").css("cursor","move"),d.find("thead tr th:eq("+e+")").siblings().remove(),d.find('tbody tr[data-role != "row"]').remove(),d.find("tbody tr td:nth-child("+(e+1)+")").siblings().remove(),d.find("tfoot").remove(),d.draggable({stop:gj.grid.plugins.columnReorder["private"].createDragStopHandler(a,b)}),d.css({position:"absolute",top:b.offset().top,left:b.offset().left,width:b.width()}),"true"===b.attr("data-droppable")&&b.droppable("destroy"),b.siblings("th").each(function(){var c=$(this);"true"===c.attr("data-droppable")&&c.droppable("destroy"),c.droppable({over:gj.grid.plugins.columnReorder["private"].createDroppableOverHandler(a,b),out:gj.grid.plugins.columnReorder["private"].droppableOut})}),d.trigger("mousedown")}},createDragStopHandler:function(a,b){return function(c,d){$('table[data-role="draggable-clone"]').draggable("destroy").remove(),b.siblings("th").each(function(){var c=$(this),e=a.data(),f=gj.grid.methods.getColumnPosition(e.columns,c.data("field")),g=gj.grid.methods.getColumnPosition(e.columns,b.data("field"));c.removeClass("gj-grid-base-left-border").removeClass("gj-grid-base-right-border"),c.closest("table").find('tbody tr[data-role="row"] td:nth-child('+(c.index()+1)+")").removeClass("gj-grid-base-left-border").removeClass("gj-grid-base-right-border"),c.droppable("isOver",d)&&(g>f?c.before(b):c.after(b),gj.grid.plugins.columnReorder["private"].moveRowCells(a,g,f),e.columns.splice(f,0,e.columns.splice(g,1)[0])),c.droppable("destroy")})}},moveRowCells:function(a,b,c){var d,e,f=a.find('tbody tr[data-role="row"]');for(d=0;d<f.length;d++)e=$(f[d]),b>c?e.find("td:eq("+c+")").before(e.find("td:eq("+b+")")):e.find("td:eq("+c+")").after(e.find("td:eq("+b+")"))},createDroppableOverHandler:function(a,b){return function(c){var d=$(this),e=d.data("position"),f=b.data("position");f>e?(d.addClass("gj-grid-base-left-border"),a.find('tbody tr[data-role="row"] td:nth-child('+(d.index()+1)+")").addClass("gj-grid-base-left-border")):(d.addClass("gj-grid-base-right-border"),a.find('tbody tr[data-role="row"] td:nth-child('+(d.index()+1)+")").addClass("gj-grid-base-right-border"))}},droppableOut:function(){var a=$(this);a.removeClass("gj-grid-base-left-border").removeClass("gj-grid-base-right-border"),a.closest("table").find('tbody tr[data-role="row"] td:nth-child('+(a.index()+1)+")").removeClass("gj-grid-base-left-border").removeClass("gj-grid-base-right-border")}},"public":{},configure:function(a){$.extend(!0,a,gj.grid.plugins.columnReorder["public"]),a.data("columnReorder")&&a.on("initialized",function(){gj.grid.plugins.columnReorder["private"].init(a)})}};