"undefined"==typeof gj&&(gj={}),gj.widget=function(){var a=this;a.xhr=null,a.generateGUID=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a.mouseX=function(a){if(a){if(a.pageX)return a.pageX;if(a.clientX)return a.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);if(a.touches&&a.touches.length)return a.touches[0].pageX;if(a.changedTouches&&a.changedTouches.length)return a.changedTouches[0].pageX;if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches[0].pageX;if(a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.touches[0].pageX}return null},a.mouseY=function(a){if(a){if(a.pageY)return a.pageY;if(a.clientY)return a.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);if(a.touches&&a.touches.length)return a.touches[0].pageY;if(a.changedTouches&&a.changedTouches.length)return a.changedTouches[0].pageY;if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches[0].pageY;if(a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.touches[0].pageY}return null}},gj.widget.prototype.init=function(a,b){var c,d,e;this.attr("data-type",b),d=$.extend(!0,{},this.getHTMLConfig()||{}),$.extend(!0,d,a||{}),e=this.getConfig(d,b),this.attr("data-guid",e.guid),this.data(e);for(c in e)gj[b].events.hasOwnProperty(c)&&(this.on(c,e[c]),delete e[c]);for(plugin in gj[b].plugins)gj[b].plugins.hasOwnProperty(plugin)&&gj[b].plugins[plugin].configure(this,e,d);return this},gj.widget.prototype.getConfig=function(a,b){var c,d,e,f;c=$.extend(!0,{},gj[b].config.base),d=a.hasOwnProperty("uiLibrary")?a.uiLibrary:c.uiLibrary,gj[b].config[d]&&$.extend(!0,c,gj[b].config[d]),e=a.hasOwnProperty("iconsLibrary")?a.iconsLibrary:c.iconsLibrary,gj[b].config[e]&&$.extend(!0,c,gj[b].config[e]);for(f in gj[b].plugins)gj[b].plugins.hasOwnProperty(f)&&($.extend(!0,c,gj[b].plugins[f].config.base),gj[b].plugins[f].config[d]&&$.extend(!0,c,gj[b].plugins[f].config[d]),gj[b].plugins[f].config[e]&&$.extend(!0,c,gj[b].plugins[f].config[e]));return $.extend(!0,c,a),c.guid||(c.guid=this.generateGUID()),c},gj.widget.prototype.getHTMLConfig=function(){var a=this.data(),b=this[0].attributes;return b.width&&(a.width=b.width.nodeValue),b.height&&(a.height=b.height.nodeValue),b.align&&(a.align=b.align.nodeValue),a&&a.source&&(a.dataSource=a.source,delete a.source),a},gj.widget.prototype.createDoneHandler=function(){var a=this;return function(b){"string"==typeof b&&JSON&&(b=JSON.parse(b)),gj[a.data("type")].methods.render(a,b)}},gj.widget.prototype.createErrorHandler=function(){return function(a){a&&a.statusText&&"abort"!==a.statusText&&alert(a.statusText)}},gj.widget.prototype.reload=function(a){var b,c,d=this.data(),e=this.data("type");return void 0===d.dataSource&&gj[e].methods.useHtmlDataSource(this,d),$.extend(d.params,a),$.isArray(d.dataSource)?(c=gj[e].methods.filter(this),gj[e].methods.render(this,c)):"string"==typeof d.dataSource?(b={url:d.dataSource,data:d.params},this.xhr&&this.xhr.abort(),this.xhr=$.ajax(b).done(this.createDoneHandler()).fail(this.createErrorHandler())):"object"==typeof d.dataSource&&(d.dataSource.data||(d.dataSource.data={}),$.extend(d.dataSource.data,d.params),b=$.extend(!0,{},d.dataSource),"json"===b.dataType&&"object"==typeof b.data&&(b.data=JSON.stringify(b.data)),b.success||(b.success=this.createDoneHandler()),b.error||(b.error=this.createErrorHandler()),this.xhr&&this.xhr.abort(),this.xhr=$.ajax(b)),this},gj.documentManager={events:{},subscribeForEvent:function(a,b,c){if(gj.documentManager.events[a]&&0!==gj.documentManager.events[a].length){if(gj.documentManager.events[a][b])throw"Event "+a+" for widget with guid='"+b+"' is already attached.";gj.documentManager.events[a].push({widgetId:b,callback:c})}else gj.documentManager.events[a]=[{widgetId:b,callback:c}],$(document).on(a,gj.documentManager.executeCallbacks)},executeCallbacks:function(a){var b=gj.documentManager.events[a.type];if(b)for(var c=0;c<b.length;c++)b[c].callback(a)},unsubscribeForEvent:function(a,b){var c=!1,d=gj.documentManager.events[a];if(d)for(var e=0;e<d.length;e++)d[e].widgetId===b&&(d.splice(e,1),c=!0,0===d.length&&($(document).off(a),delete gj.documentManager.events[a]));if(!c)throw'The "'+a+'" for widget with guid="'+b+"\" can't be removed."}},"undefined"==typeof gj.datepicker&&(gj.datepicker={plugins:{}}),gj.datepicker.config={base:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekDays:["S","M","T","W","T","F","S"],showOtherMonths:!1,selectOtherMonths:!0,minDate:void 0,maxDate:void 0,format:void 0,uiLibrary:"materialdesign",iconsLibrary:"materialicons",icons:{rightIcon:'<i class="material-icons">event</i>',previousMonth:'<i class="material-icons">keyboard_arrow_left</i>',nextMonth:'<i class="material-icons">keyboard_arrow_right</i>'},indentation:24,style:{wrapper:"gj-datepicker gj-datepicker-md gj-unselectable",input:"gj-textbox-md"}},bootstrap:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control"},iconsLibrary:"glyphicons",showOtherMonths:!0},bootstrap4:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control"},showOtherMonths:!0},materialicons:{},fontawesome:{icons:{rightIcon:'<span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>',previousMonth:'<i class="fa fa-chevron-left" aria-hidden="true"></i>',nextMonth:'<i class="fa fa-chevron-right" aria-hidden="true"></i>'}},glyphicons:{icons:{rightIcon:'<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>',previousMonth:'<span class="glyphicon glyphicon-chevron-left"></span>',nextMonth:'<span class="glyphicon glyphicon-chevron-right"></span>'}}},gj.datepicker.methods={init:function(a){return gj.widget.prototype.init.call(this,a,"datepicker"),this.attr("data-datepicker","true"),gj.datepicker.methods.initialize(this),this},initialize:function(a){var b,c=a.data(),d=a.parent('div[role="wrapper"]'),e=$(c.icons.rightIcon).attr("role","right-icon");0===d.length?(d=$('<div role="wrapper" />').addClass(c.style.wrapper),a.wrap(d)):d.addClass(c.style.wrapper),d=a.parent('div[role="wrapper"]'),c.width&&d.css("width",c.width),a.addClass(c.style.input).attr("role","input"),e.on("click",function(){a.parent().children('[role="calendar"]').is(":visible")?gj.datepicker.methods.hide(a):(gj.datepicker.methods.renderCalendar(a),gj.datepicker.methods.show(a))}),d.append(e),b=gj.datepicker.methods.createCalendar(a),d.append(b)},createCalendar:function(a){var b=new Date,c=a.data(),d=$('<div role="calendar" />'),e=$("<table/>"),f=$("<thead/>");for(a.attr("month",b.getMonth()),a.attr("year",b.getFullYear()),$row=$('<tr role="month-manager" />'),$row.append($("<th><div>"+c.icons.previousMonth+"</div></th>").on("click",gj.datepicker.methods.prevMonth(a))),$row.append('<th colspan="5"><div role="month"></div></th>'),$row.append($("<th><div>"+c.icons.nextMonth+"</div></th>").on("click",gj.datepicker.methods.nextMonth(a))),f.append($row),$row=$('<tr role="week-days" />'),i=0;i<c.weekDays.length;i++)$row.append("<th><div>"+c.weekDays[i]+"</div></th>");return f.append($row),e.append(f),e.append("<tbody/>"),d.append(e),d.hide(),d},renderCalendar:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=a.data(),q=a.parent().children('[role="calendar"]'),r=q.children("table"),s=r.children("tbody"),t=gj.datepicker.methods.getMinDate(p),u=gj.datepicker.methods.getMaxDate(p);for(c=new Date(a.attr("day")),e=parseInt(a.attr("month"),10),f=parseInt(a.attr("year"),10),r.find('thead [role="month"]').text(p.months[e]+" "+f),g=new Array(31,28,31,30,31,30,31,31,30,31,30,31),f%4==0&&1900!=f&&(g[1]=29),h=g[e],i=new Date(f+"-"+(e+1)+"-01").getDay(),s.empty(),b=0,$row=$("<tr />"),l=gj.datepicker.methods.getPrevMonth(e,f),j=1;i>=j;j++)d=g[l.month]-i+j,n=l.year===c.getFullYear()&&l.month===c.getMonth()&&d===c.getDate()?$('<td type="selected" />'):$('<td type="other-month" />'),o=$("<div>"+d+"</div>"),p.showOtherMonths&&(n.append(o),p.selectOtherMonths&&gj.datepicker.methods.isSelectable(t,u,l.year,l.month,d)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,q,d,l.month,l.year))):n.addClass("disabled")),$row.append(n),b++;for(s.append($row),k=new Date,j=1;h>=j;j++)0==b&&($row=$("<tr>")),n=f===c.getFullYear()&&e===c.getMonth()&&j===c.getDate()?$('<td type="selected" />'):f===k.getFullYear()&&e===k.getMonth()&&j===k.getDate()?$('<td type="today" />'):$('<td type="current-month" />'),o=$("<div>"+j+"</div>"),gj.datepicker.methods.isSelectable(t,u,f,e,j)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,q,j,e,f))):n.addClass("disabled"),n.append(o),$row.append(n),b++,7==b&&(s.append($row),b=0);for(m=gj.datepicker.methods.getNextMonth(e,f),j=1;0!=b;j++)n=m.year===c.getFullYear()&&m.month===c.getMonth()&&j===c.getDate()?$('<td type="selected" />'):$('<td type="other-month" />'),p.showOtherMonths&&(o=$("<div>"+j+"</div>"),n.append(o),p.selectOtherMonths&&gj.datepicker.methods.isSelectable(t,u,m.year,m.month,j)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,q,j,m.month,m.year))):n.addClass("disabled")),$row.append(n),b++,7==b&&(s.append($row),b=0)},getMinDate:function(a){var b;return a.minDate&&("string"==typeof a.minDate?b=new Date(a.minDate):"function"==typeof a.minDate?b=a.minDate():"function"==typeof a.minDate.getMonth&&(b=a.minDate)),b},getMaxDate:function(a){var b;return a.maxDate&&("string"==typeof a.maxDate?b=new Date(a.maxDate):"function"==typeof a.maxDate?b=a.maxDate():"function"==typeof a.maxDate.getMonth&&(b=a.maxDate)),b},isSelectable:function(a,b,c,d,e){var f=!1,g=new Date(c,d,e);return(!a||g>=a)&&(!b||b>=g)&&(f=!0),f},getPrevMonth:function(a,b){return date=new Date(b+"-"+(a+1)+"-01"),date.setMonth(date.getMonth()-1),{month:date.getMonth(),year:date.getFullYear()}},getNextMonth:function(a,b){return date=new Date(b+"-"+(a+1)+"-01"),date.setMonth(date.getMonth()+1),{month:date.getMonth(),year:date.getFullYear()}},prevMonth:function(a){return function(){var b,c=parseInt(a.attr("month"),10),d=parseInt(a.attr("year"),10);b=gj.datepicker.methods.getPrevMonth(c,d),a.attr("month",b.month),a.attr("year",b.year),gj.datepicker.methods.renderCalendar(a)}},nextMonth:function(a){return function(){var b,c=parseInt(a.attr("month"),10),d=parseInt(a.attr("year"),10);b=gj.datepicker.methods.getNextMonth(c,d),a.attr("month",b.month),a.attr("year",b.year),gj.datepicker.methods.renderCalendar(a)}},select:function(a,b,c,d,e){return function(b){var f,g,h=a.data();return f=new Date(e+"-"+(d+1)+"-"+c),g=h.format?h.format(f):f.toLocaleDateString(),a.val(g),gj.datepicker.events.change(a),a.attr("day",e+"-"+(d+1)+"-"+c),a.attr("month",d),a.attr("year",e),gj.datepicker.methods.hide(a),a}},show:function(a){var b=(a.data(),a.parent().children('[role="calendar"]'));b.css("left","0px").css("top",a.outerHeight(!0)+3),b.show(),gj.datepicker.events.show(a)},hide:function(a){var b=a.parent().children('[role="calendar"]');b.hide(),gj.datepicker.events.hide(a)},value:function(a,b){var c,d;return"undefined"==typeof b?a.val():(d=new Date(b),c=a.parent().children('[role="calendar"]'),gj.datepicker.methods.select(a,c,d.getDate(),d.getMonth(),d.getFullYear())())},destroy:function(a){var b=a.data(),c=a.parent();return b&&(a.off(),a.removeData(),a.removeAttr("data-type").removeAttr("data-guid").removeAttr("data-datepicker"),a.removeClass(),c.children('[role="calendar"]').remove(),c.children('[role="right-icon"]').remove(),a.unwrap()),a}},gj.datepicker.events={change:function(a){return a.triggerHandler("change")},show:function(a){return a.triggerHandler("show")},hide:function(a){return a.triggerHandler("hide")}},gj.datepicker.widget=function(a,b){var c=this,d=gj.datepicker.methods;return c.value=function(a){return d.value(this,a)},c.destroy=function(){return d.destroy(this)},$.extend(a,c),"true"!==a.attr("data-datepicker")&&d.init.call(a,b),a},gj.datepicker.widget.prototype=new gj.widget,gj.datepicker.widget.constructor=gj.datepicker.widget,function(a){a.fn.datepicker=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new gj.datepicker.widget(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new gj.datepicker.widget(this,a)}}}(jQuery);