"undefined"==typeof gj&&(gj={}),"undefined"==typeof gj.tree&&(gj.tree={plugins:{}}),gj.tree.config={base:{autoLoad:!0,selectionType:"single",checkChildren:!1,dataSource:void 0,primaryKey:void 0,textField:"text",valueField:void 0,childrenField:"children",uiLibrary:"base",style:{active:"gj-tree-base-active"}},bootstrap:{},jqueryui:{}},gj.tree.events={dataBinding:function(a){a.trigger("dataBinding",[])},dataBound:function(a){a.trigger("dataBound",[])},destroying:function(a){a.trigger("destroying",[])},initialized:function(a){a.trigger("initialized",[])},select:function(a){a.trigger("select",[])},unselect:function(a){a.trigger("unselect",[])},collapsing:function(a){a.trigger("collapsing",[])},collapsed:function(a){a.trigger("collapsed",[])},expanding:function(a){a.trigger("expanding",[])},expanded:function(a){a.trigger("expanded",[])}},gj.tree.methods={init:function(a){return gj.widget.prototype.init.call(this,a,"tree"),gj.tree.methods.initialize.call(this),this.data("autoLoad")&&this.reload(),this},initialize:function(a){this.empty(),this.append('<ul class="gj-tree-list gj-tree-unselectable"/>'),gj.tree.events.initialized(this)},reload:function(a){var b=this.data();return $.isArray(b.dataSource)&&gj.tree.methods.loadData(this),this},loadData:function(a){var b,c=a.data(),d=a.children("ul");for(d.off().empty(),b=0;b<c.dataSource.length;b++)gj.tree.methods.appendNode(a,d,c.dataSource[b],c)},appendNode:function(a,b,c,d){var e,f,g,f=$("<li/>"),h=$('<span data-role="expander" data-mode="close">&nbsp;</span>'),i=$('<span data-role="display">'+c[d.textField]+"</span>");if(h.on("click",gj.tree.methods.expanderClickHandler(a)),f.append(h),i.on("click",gj.tree.methods.displayClickHandler(a)),f.append(i),c[d.childrenField]&&c[d.childrenField].length)for(h.text("+"),g=$('<ul class="gj-tree-list hidden"/>'),f.append(g),e=0;e<c[d.childrenField].length;e++)gj.tree.methods.appendNode(a,g,c[d.childrenField][e],d);b.append(f)},expanderClickHandler:function(a){return function(b){var c=$(this),d=c.siblings("ul"),e=gj.tree.events;"close"===c.attr("data-mode")?(e.expanding(a),d.show(),c.attr("data-mode","open").text("-"),e.expanded(a)):(e.collapsing(a),d.hide(),c.attr("data-mode","close").text("+"),e.collapsed(a))}},displayClickHandler:function(a){return function(b){var c=$(this),d=c.parent("li");"true"===c.attr("data-selected")?gj.tree.methods.unselect(a,d):("single"===a.data("selectionType")&&gj.tree.methods.unselectAll(a),gj.tree.methods.select(a,d))}},selectAll:function(a){var b,c=a.find("ul li");for(b=0;b<c.length;b++)gj.tree.methods.select(a,$(c[b]),!0);return a},select:function(a,b,c){var d=b.children('span[data-role="display"]');if(d.addClass(a.data().style.active).attr("data-selected","true"),c)for($children=b.find("ul li"),i=0;i<$children.length;i++)gj.tree.methods.select(a,$($children[i]),c);gj.tree.events.select(a,b)},unselectAll:function(a){var b,c=a.find("ul li");for(b=0;b<c.length;b++)gj.tree.methods.unselect(a,$(c[b]),!0);return a},unselect:function(a,b,c){var d,e,f=b.children('span[data-role="display"]');if(f.removeClass(a.data().style.active).removeAttr("data-selected"),c)for(e=b.find("ul li"),d=0;d<e.length;d++)gj.tree.methods.unselect(a,$(e[d]),c);gj.tree.events.unselect(a,b)}},gj.tree.widget=function(a,arguments){var b=this,c=gj.tree.methods;return b.xhr=null,b.reload=function(a){return c.reload.call(this,a)},b.appendNode=function(a,b){},b.prependNode=function(a,b){},b.expand=function(a){},b.collapse=function(a){},b.expandAll=function(){},b.collapseAll=function(){},b.getById=function(a){},b.getByText=function(a){},b.remove=function(a){},b.destroy=function(){},b.select=function(a){},b.unselect=function(a){},b.selectAll=function(){return c.selectAll(this)},b.unselectAll=function(){return c.unselectAll(this)},b.getSelection=function(){},$.extend(a,b),"true"!==a.attr("data-tree")&&c.init.apply(a,arguments),a},gj.tree.widget.prototype=new gj.widget,gj.tree.widget.constructor=gj.tree.widget,function(a){a.fn.tree=function(a){var b;if("object"!=typeof a&&a){if(b=new gj.tree.widget(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new gj.tree.widget(this,arguments)}}(jQuery);